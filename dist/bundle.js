(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=new URLSearchParams(window.location.search).get("id");fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=ac38f472cab001a7ab4f1deeb141d8e6`).then((e=>e.json())).then((e=>e)).catch((e=>console.error("Error:",e))),document.getElementById("search").addEventListener("input",(function(){const e=this.value.trim();""!==e?(function(e){return fetch(`https://api.themoviedb.org/3/search/movie?api_key=ac38f472cab001a7ab4f1deeb141d8e6&query=${e}`).then((e=>e.json())).then((e=>e)).catch((e=>console.error("Error:",e)))}(e).then((e=>{!function(e){const t=document.getElementById("searchResults");t&&(t.innerHTML="",e.forEach((e=>{const n=document.createElement("div");n.classList.add("card"),n.innerHTML=`\n                <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n                <h3>${e.title}</h3>\n                <p>${e.release_date.split("-")[0]}</p>\n            `,n.addEventListener("click",(()=>showMovieDetails(e))),t.appendChild(n)})))}(e.results)})),document.querySelector(".detail-container").style.display="none"):document.querySelector(".detail-container").style.display="block"}))}))})();